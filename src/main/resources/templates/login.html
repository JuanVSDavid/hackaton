<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Styles Custom -->
    <link rel="stylesheet" th:href="@{/css/login.css}">
    <!-- mdb -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.6.0/mdb.min.css" rel="stylesheet" />
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" rel="stylesheet" />
    <title>TÚ PADRINO | Iniciar Sesión</title>
</head>

<body>
    <div class="container-custom">
        <div class="forms-container">
            <div class="signin-signup">
                <form th:action="@{/login}" class="sign-in-form" method="post" id = "login">
                    <h2 class="title">Iniciar Sesión</h2>
                    <div th:if="${param.error}" class="alert alert-danger d-flex align-items-center">
                        <p class="text-danger">El usuario o la contraseña son incorrectas o no existe el usuario.</p>
                    </div>
                    <div th:if="${param.logout}" class="alert alert-success d-flex align-items-center">
                        <p class="text-success">Sesión Cerrada Correctamente</p>
                    </div>
                    <div th:if="${session.message}" th:classappends="${session.message}"
                        class="alert alert-success d-flex align-items-center" role="alert" data-mbd-color="success">
                        <p th:text="${session.message}"></p>
                        <th:block th:text="${#session.removeAttribute('message')}"></th:block>
                    </div>
                    <div th:if="${session.alert}" th:classappends="${session.alert}"
                        class="alert alert-danger d-flex align-items-center" role="alert" data-mbd-color="danger">
                        <p th:text="${session.alert}"></p>
                        <th:block th:text="${#session.removeAttribute('alert')}"></th:block>
                    </div>
                    <div class="input-field">
                        <i class="fas fa-user"></i>
                        <input id="login_usuario" name="username" type="text" placeholder="Usuario" />
                    </div>
                    <span class = "color-primary-usuario">El usuario es obligatorio</span>
                    <div class="input-field">
                        <i class="fas fa-lock"></i>
                        <input id="login_password" name="password" type="password" placeholder="Contraseña" />
                    </div>
                    <span class = "color-primary-pass">La contraseña es obligatoria</span>
                    <input class="btn-custom solid" type="submit" value="Iniciar Sesión" />
                </form>

                <form th:action="@{/login/register}" th:method="POST" class="sign-up-form"
                    id = "register">
                    <h2 class="title">Regístrate</h2>
                    <div class="input-field">
                        <i class="fas fa-user"></i>
                        <input name="usuario_name" type="text" placeholder="Nombre Completo" minlength="5" required/>
                    </div>
                    <div class="input-field">
                        <i class="fas fa-user"></i>
                        <input name="cedula_usuario" type="number" placeholder="Cédula" minlength="3" maxlength="10" required/>
                    </div>
                    <div class="input-field">
                        <i class="fas fa-calendar-day"></i>
                        <input min="18" max="100" name="edad" id= "int_rg" type="number" placeholder="Edad" required/>
                    </div>
                    <div class="select-field">
                        <i class="fas fa-user-friends"></i>
                        <select name="role" >
                            <option value="BENEFICIARIO">Beneficiario</option>
                            <option value="PADRINO">Padrino</option>
                        </select>
                    </div>
                    <div class="input-field" >
                        <i class="fas fa-envelope"></i>
                        <input name="usuario_email" id= "email_rg" type="email" placeholder="Email" required/>
                    </div>
                    <div class="input-field">
                        <i class="fas fa-user"></i>
                        <input name="username" type="text" placeholder="Usuario" required/>
                    </div>
                    <div class="input-field">
                        <i class="fas fa-lock"></i>
                        <input name="password" type="password" id= "pass_i" placeholder="Contraseña"/>
                    </div>
                    <span class = "color-primary-pass-2">La contraseña no coincide</span>
                    <div class="input-field">
                        <i class="fas fa-lock"></i>
                        <input type="password" id = "pass_f" placeholder="Confirmar Contraseña" />
                    </div>
                    <span class = "color-primary-pass-2">La contraseña no coincide</span>
                    <input type="submit" class="btn-custom" value="Regístrate" />
                </form>
            </div>
        </div>

        <div class="panels-container">
            <div class="panel left-panel">
                <div class="content">
                    <h3>¿Ya tienes una cuenta?</h3>
                    <p>
                        Si no tienes, dale click al botón y te redireccionará al formulario de registro :)
                    </p>
                    <button class="btn-custom transparent" id="sign-up-btn">Regístrate</button>
                </div>
                <img th:src="@{/avatar-logos/login.svg}" class="image d-none d-md-block"
                    alt="Vector de Diseño creado por pikisuperstar - www.freepik.es" />
            </div>
            <div class="panel right-panel">
                <div class="content">
                    <h3>¿Uno de Nosotros?</h3>
                    <p>
                        Ingresa y mira todos los talentos y proyectos por apoyar :)
                    </p>
                    <button class="btn-custom transparent" id="sign-in-btn">Iniciar Sesión</button>
                </div>
                <img th:src="@{/avatar-logos/login-2.svg}" class="image d-none d-md-block"
                    alt="Vector de Diseño creado por pikisuperstar - www.freepik.es" />
            </div>
        </div>
    </div>
    <!-- CDN JQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.js"
        integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    <!-- Scripts Custom -->
    <script th:src="@{/js/login.js}"></script>
</body>

</html>